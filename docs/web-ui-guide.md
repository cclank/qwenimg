# QwenImg Web UI 使用指南

QwenImg 提供了一个基于 React 的现代化 Web 界面，让你无需编写代码即可使用所有功能。

## 🚀 快速开始
 
 ### 1. 一键安装
 
 ```bash
 # 运行安装脚本
 ./install.sh
 ```
 
 ### 2. 配置 API Key
 
 编辑项目根目录下的 `.env` 文件：
 
 ```bash
 DASHSCOPE_API_KEY="sk-your-api-key"
 ```
 
 ### 3. 启动 Web 界面

 ```bash
 ./start_dev.sh
 ```

 浏览器访问 `http://localhost:3000`
 
 > **注意**：后端服务运行在 `http://localhost:8000`，请确保两个端口未被占用。

## 📸 功能介绍

### 文生图 (Text-to-Image)

1. 在 "📝 文生图" 标签页中输入提示词
2. 选择模型、尺寸、生成数量等参数
3. 点击 "🎨 生成图片" 按钮
4. 等待生成完成后，可以预览和下载图片

**参数说明：**

- **提示词**：详细描述你想要的图片内容
- **负面提示词**：描述不希望出现的内容（可选）
- **模型**：wan2.5-t2i-preview（最新）或 wanx-v1
- **尺寸**：1024×1024（正方形）、1280×720（横版）、720×1280（竖版）
- **生成数量**：1-4 张
- **随机种子**：固定种子可重现结果，0 表示随机
- **自动扩展提示词**：让 AI 自动优化提示词
- **添加水印**：是否在图片上添加水印

### 图生视频 (Image-to-Video)

1. 在 "🎬 图生视频" 标签页中上传图片
2. 输入提示词描述视频动作（可选）
3. 选择分辨率和时长
4. 点击 "🎬 生成视频" 按钮
5. 等待生成完成后，可以在线预览视频

**参数说明：**

- **上传图片**：支持 PNG、JPG、JPEG 格式
- **提示词**：描述视频的动态变化（可选）
- **负面提示词**：描述不希望出现的内容（可选）
- **模型**：wan2.5-i2v-preview（最新）
- **分辨率**：480P、720P、1080P
- **时长**：5 秒或 10 秒
- **随机种子**：固定种子可重现结果，0 表示随机

### 文生视频 (Text-to-Video)

1. 在 "🎥 文生视频" 标签页中输入提示词
2. 选择分辨率和时长
3. 点击 "🎥 生成视频" 按钮
4. 等待生成完成后，可以在线预览视频

**参数说明：**

- **提示词**：详细描述视频的场景和动作
- **负面提示词**：描述不希望出现的内容（可选）
- **模型**：wan2.5-t2v-preview（最新）
- **分辨率**：480P、720P、1080P
- **时长**：5 秒或 10 秒
- **随机种子**：固定种子可重现结果，0 表示随机

## 💡 使用技巧

### 编写好的提示词

**文生图：**

```
一位身穿白色长袍的古风男子，眉心有朱砂痣，长发飘逸，
站在云雾缭绕的山间平台上，背景是金色的圆形光晕，
古风仙侠风格，高品质4K，细节丰富
```

**图生视频：**

```
([锚定设定]，严格依据图片生成10秒视频)
([动态分层]，前景云雾缓缓流动，角色长发随风摆动)
([时间轴分层]，0-3秒：展现场景；4-7秒：聚焦角色；8-10秒：镜头上移)
([技术参数]，60帧每秒，4K画质)
```

**文生视频：**

```
一个充满动感的都市场景。夜晚，霓虹灯闪烁的街道上，
一个穿着连帽衫的年轻人在奔跑。镜头跟随他的身影，
展现城市的繁华与孤独。电影级光照，高能量，充满细节。
```

### 使用负面提示词

添加负面提示词可以提升生成质量：

```
模糊、粗糙、色彩暗淡、风格杂乱、低质量、失真
```

### 固定随机种子

如果你生成了一张满意的图片，记下随机种子值，下次使用相同的种子和提示词可以生成类似的结果。

## 🎨 界面截图

### 主界面

Web 界面采用现代化设计，分为三个标签页：

- 📝 文生图
- 🎬 图生视频
- 🎥 文生视频

### 侧边栏

侧边栏包含：

- ⚙️ API Key 配置
- 🌍 地域选择
- 📚 文档链接

## ⚙️ 高级配置

### 地域切换

在侧边栏选择地域：

- **北京**：适合中国大陆用户
- **新加坡**：适合海外用户

**注意：** 不同地域需要使用对应地域的 API Key。

### 环境变量

如果设置了环境变量 `DASHSCOPE_API_KEY`，Web 界面会自动读取，无需手动输入。

## 🐛 故障排除

### 无法启动 Web 界面

1. 检查端口占用：
   - 前端默认使用 5173 端口
   - 后端默认使用 8000 端口

2. 检查依赖安装：
   - 确保已运行 `./install.sh`
   - 尝试重新安装依赖：
     ```bash
     cd frontend && npm install
     cd ../backend && pip install -r requirements.txt
     ```

### API Key 错误

- 确保 `.env` 文件中配置了正确的 `DASHSCOPE_API_KEY`
- 检查地域选择是否与 API Key 匹配
- 获取新的 API Key: https://help.aliyun.com/zh/model-studio/get-api-key

### 生成失败

- 检查网络连接
- 确认提示词是否合规
- 查看终端输出的错误日志

## 📱 部署到云端

### 生产环境构建

```bash
# 构建前端
cd frontend
npm run build

# 启动服务（建议使用 pm2 或类似工具管理进程）
# ...
```

## 🎯 下一步

- 查看 [完整 API 文档](../README.md#api-reference)
- 学习 [Jupyter Notebook 教程](../examples/complete_tutorial.ipynb)
- 探索 [Python 示例脚本](../examples/)

---

**Powered by 岚叔**
