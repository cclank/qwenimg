# QwenImg å¿«é€Ÿå¼€å§‹æŒ‡å—

## ðŸš€ 3æ­¥å¿«é€Ÿä¸Šæ‰‹

### å‰ç½®è¦æ±‚

- âœ… Python 3.8+
- âœ… Node.js 16+
- âœ… DashScope API Keyï¼ˆ[ç‚¹å‡»èŽ·å–](https://dashscope.console.aliyun.com/apiKey)ï¼‰

---

## æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæœ€å¿«ï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/cclank/qwenimg.git
cd qwenimg

# 2. é…ç½®API Keyï¼ˆå¿…é¡»ï¼‰
export DASHSCOPE_API_KEY="sk-your-api-key-here"

# 3. ä¸€é”®å¯åŠ¨ï¼ˆè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼‰
chmod +x start_dev.sh
./start_dev.sh
```

**å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨ï¼š**
- ðŸ” æ£€æŸ¥Pythonå’ŒNode.js
- ðŸ“¦ å®‰è£…åŽç«¯Pythonä¾èµ–
- ðŸ“¦ å®‰è£…å‰ç«¯npmä¾èµ–
- âœ… éªŒè¯ä¾èµ–å®‰è£…æˆåŠŸ
- ðŸš€ å¯åŠ¨åŽç«¯æœåŠ¡ï¼ˆ8000ç«¯å£ï¼‰
- ðŸš€ å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆ3000ç«¯å£ï¼‰
- âœ… éªŒè¯æœåŠ¡å¯åŠ¨æˆåŠŸ

**å¦‚æžœå¯åŠ¨å¤±è´¥ï¼š**
è„šæœ¬ä¼šè‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯æ—¥å¿—å’Œè§£å†³æ–¹æ¡ˆï¼

### è®¿é—®åº”ç”¨

âœ… **å‰ç«¯é¡µé¢**ï¼šhttp://localhost:3000
âœ… **APIæ–‡æ¡£**ï¼šhttp://localhost:8000/api/docs
âœ… **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:8000/health

### åœæ­¢æœåŠ¡

```bash
./stop_dev.sh
```

---

## æ–¹å¼äºŒï¼šåˆ†æ­¥å®‰è£…ï¼ˆæŽ¨èæ–°æ‰‹ï¼‰

### Step 1: å®‰è£…ä¾èµ–

```bash
# è¿è¡Œå®‰è£…è„šæœ¬
chmod +x install.sh
./install.sh
```

å®‰è£…è„šæœ¬ä¼šï¼š
- âœ… æ£€æŸ¥Pythonå’ŒNode.jsç‰ˆæœ¬
- âœ… å®‰è£…æ‰€æœ‰åŽç«¯ä¾èµ–
- âœ… å®‰è£…æ‰€æœ‰å‰ç«¯ä¾èµ–
- âœ… åˆ›å»ºé…ç½®æ–‡ä»¶æ¨¡æ¿

### Step 2: é…ç½®API Key

**æ–¹å¼Aï¼šçŽ¯å¢ƒå˜é‡ï¼ˆæŽ¨èï¼‰**
```bash
export DASHSCOPE_API_KEY="sk-your-api-key-here"
```

**æ–¹å¼Bï¼šé…ç½®æ–‡ä»¶**
```bash
# ç¼–è¾‘backend/.envæ–‡ä»¶
nano backend/.env

# ä¿®æ”¹è¿™ä¸€è¡Œï¼š
DASHSCOPE_API_KEY=sk-your-api-key-here
```

### Step 3: å¯åŠ¨æœåŠ¡

```bash
./start_dev.sh
```

---

## æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨å¯åŠ¨ï¼ˆå®Œå…¨æŽ§åˆ¶ï¼‰

---

## ðŸ“ æ‰‹åŠ¨å¯åŠ¨

### æ­¥éª¤1ï¼šå¯åŠ¨åŽç«¯

```bash
# è¿›å…¥åŽç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®çŽ¯å¢ƒå˜é‡
export DASHSCOPE_API_KEY="your_api_key_here"
# æˆ–è€…åˆ›å»º.envæ–‡ä»¶
echo "DASHSCOPE_API_KEY=your_api_key_here" > .env

# å¯åŠ¨åŽç«¯
python run.py
```

åŽç«¯å°†åœ¨ **http://localhost:8000** å¯åŠ¨

### æ­¥éª¤2ï¼šå¯åŠ¨å‰ç«¯ï¼ˆæ–°å¼€ç»ˆç«¯ï¼‰

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å‰ç«¯
npm run dev
```

å‰ç«¯å°†åœ¨ **http://localhost:3000** å¯åŠ¨

---

## ðŸŽ¯ ä½¿ç”¨ç¤ºä¾‹

### 1. æ–‡ç”Ÿå›¾

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡»ã€Œæ–‡ç”Ÿå›¾ã€
2. è¾“å…¥æç¤ºè¯ï¼Œä¾‹å¦‚ï¼š"ä¸€åªå¯çˆ±çš„å°çŒ«å’ªååœ¨çª—å°ä¸Šï¼Œå¤•é˜³è¥¿ä¸‹"
3. é€‰æ‹©å‚æ•°ï¼ˆæ¨¡åž‹ã€æ•°é‡ã€å°ºå¯¸ï¼‰
4. ç‚¹å‡»ã€Œå¼€å§‹ç”Ÿæˆã€
5. åœ¨å³ä¾§ä»»åŠ¡é¢æ¿å®žæ—¶æŸ¥çœ‹è¿›åº¦
6. å®ŒæˆåŽè‡ªåŠ¨æ˜¾ç¤ºç»“æžœ

### 2. å›¾ç”Ÿè§†é¢‘

1. ç‚¹å‡»ã€Œå›¾ç”Ÿè§†é¢‘ã€
2. ä¸Šä¼ ä¸€å¼ å›¾ç‰‡
3. è¾“å…¥åŠ¨ä½œæè¿°ï¼ˆå¯é€‰ï¼‰
4. é€‰æ‹©åˆ†è¾¨çŽ‡å’Œæ—¶é•¿
5. å¼€å§‹ç”Ÿæˆ

### 3. æ–‡ç”Ÿè§†é¢‘

1. ç‚¹å‡»ã€Œæ–‡ç”Ÿè§†é¢‘ã€
2. è¾“å…¥è§†é¢‘åœºæ™¯æè¿°
3. é€‰æ‹©å‚æ•°
4. å¼€å§‹ç”Ÿæˆ

### 4. å¹¶å‘åˆ›ä½œ

âœ¨ **å¯ä»¥åŒæ—¶åˆ›å»ºå¤šä¸ªä»»åŠ¡ï¼**

- åˆ›å»ºä»»åŠ¡åŽæ— éœ€ç­‰å¾…
- ç»§ç»­åˆ›å»ºæ–°ä»»åŠ¡
- æ‰€æœ‰ä»»åŠ¡åœ¨åŽå°å¹¶å‘æ‰§è¡Œ
- å³ä¾§é¢æ¿å®žæ—¶æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡è¿›åº¦

### 5. åŽ†å²è®°å½•

ç‚¹å‡»å·¦ä¾§ã€ŒåŽ†å²è®°å½•ã€æŸ¥çœ‹æ‰€æœ‰åˆ›ä½œåŽ†å²ï¼Œæ”¯æŒï¼š
- æŒ‰ç±»åž‹ç­›é€‰ï¼ˆæ–‡ç”Ÿå›¾/æ–‡ç”Ÿè§†é¢‘/å›¾ç”Ÿè§†é¢‘ï¼‰
- æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆç­‰å¾…ä¸­/ç”Ÿæˆä¸­/å·²å®Œæˆ/å¤±è´¥ï¼‰
- åˆ é™¤ä¸éœ€è¦çš„è®°å½•

### 6. çµæ„Ÿç”»å»Š

ç‚¹å‡»å·¦ä¾§ã€Œçµæ„Ÿç”»å»Šã€ï¼š
- æµè§ˆåˆ›ä½œçµæ„Ÿç¤ºä¾‹
- æŒ‰åˆ†ç±»æŸ¥çœ‹ï¼ˆé£Žæ™¯ã€äººç‰©ã€åŠ¨ç‰©ç­‰ï¼‰
- ä¸€é”®å¤åˆ¶æç¤ºè¯
- ç›´æŽ¥ä½¿ç”¨æç¤ºè¯åˆ›ä½œ

---

## âš™ï¸ çŽ¯å¢ƒå˜é‡é…ç½®

### åŽç«¯çŽ¯å¢ƒå˜é‡

çŽ¯å¢ƒå˜é‡ä¼˜å…ˆçº§ï¼š**è¿è¡Œæ—¶çŽ¯å¢ƒå˜é‡ > .envæ–‡ä»¶**

```bash
# æŽ¨èï¼šè¿è¡Œæ—¶è®¾ç½®
export DASHSCOPE_API_KEY="your_key"
export HOST="0.0.0.0"
export PORT="8000"
export RELOAD="true"

# æˆ–è€…åˆ›å»ºbackend/.envæ–‡ä»¶
cat > backend/.env <<EOF
DASHSCOPE_API_KEY=your_key_here
HOST=0.0.0.0
PORT=8000
RELOAD=true
DATABASE_URL=sqlite:///./qwenimg.db
EOF
```

### å‰ç«¯çŽ¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

```bash
# åˆ›å»ºfrontend/.env.local
cat > frontend/.env.local <<EOF
VITE_API_BASE=/api
VITE_WS_URL=
EOF
```

---

## ðŸ› å¸¸è§é—®é¢˜

### å‰ç«¯ç™½å±ï¼Ÿ

âœ… **å·²ä¿®å¤ï¼** å¦‚æžœä»ç„¶é‡åˆ°ï¼š

```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
npm run dev
```

### åŽç«¯å¯åŠ¨å¤±è´¥ï¼Ÿ

æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬æ˜¯å¦ â‰¥ 3.8
2. API Keyæ˜¯å¦æ­£ç¡®è®¾ç½®
3. ç«¯å£8000æ˜¯å¦è¢«å ç”¨

```bash
# æ£€æŸ¥ç«¯å£
lsof -i :8000

# ä¿®æ”¹ç«¯å£
export PORT=8080
```

### WebSocketè¿žæŽ¥å¤±è´¥ï¼Ÿ

ç¡®ä¿ï¼š
1. åŽç«¯å·²å¯åŠ¨
2. å‰ç«¯ä»£ç†é…ç½®æ­£ç¡®ï¼ˆvite.config.tsï¼‰
3. é˜²ç«å¢™æœªé˜»æ­¢WebSocketè¿žæŽ¥

### ä»»åŠ¡ä¸€ç›´pendingï¼Ÿ

1. æ£€æŸ¥API Keyæ˜¯å¦æœ‰æ•ˆ
2. æŸ¥çœ‹åŽç«¯æ—¥å¿—
3. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥

```bash
# æŸ¥çœ‹åŽç«¯æ—¥å¿—
tail -f logs/backend.log
```

---

## ðŸ“š æ›´å¤šæ–‡æ¡£

- [å®Œæ•´æ–‡æ¡£](README_NEW_FRONTEND.md) - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- [éƒ¨ç½²æ–‡æ¡£](DEPLOYMENT.md) - ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²
- [APIæ–‡æ¡£](http://localhost:8000/api/docs) - æŽ¥å£æ–‡æ¡£
- [åŽŸREADME](README.md) - åŽŸå§‹é¡¹ç›®æ–‡æ¡£

---

## ðŸŽ‰ å¼€å§‹åˆ›ä½œå§ï¼

çŽ°åœ¨ä½ å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ‰“å¼€ http://localhost:3000 å¼€å§‹ä½ çš„AIåˆ›ä½œä¹‹æ—…ï¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹[å®Œæ•´æ–‡æ¡£](README_NEW_FRONTEND.md)æˆ–æäº¤[Issue](https://github.com/cclank/qwenimg/issues)ã€‚
