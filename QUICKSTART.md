# QwenImg å¿«é€Ÿå¼€å§‹æŒ‡å—

## ðŸš€ å¿«é€Ÿä¸Šæ‰‹

### å‰ç½®è¦æ±‚

- âœ… Python 3.8+
- âœ… Node.js 16+
- âœ… DashScope API Keyï¼ˆ[ç‚¹å‡»èŽ·å–](https://dashscope.console.aliyun.com/apiKey)ï¼‰

---

## æ–¹å¼ä¸€ï¼šä½¿ç”¨å®‰è£…è„šæœ¬ï¼ˆæŽ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/cclank/qwenimg.git
cd qwenimg

# 2. å®‰è£…ä¾èµ–
chmod +x install.sh
./install.sh

# 3. é…ç½®API Key
export DASHSCOPE_API_KEY="sk-your-api-key-here"

# 4. å¯åŠ¨æœåŠ¡
chmod +x start_dev.sh
./start_dev.sh
```

**install.sh ä¼šè‡ªåŠ¨ï¼š**
- ðŸ” æ£€æŸ¥Pythonå’ŒNode.jsç‰ˆæœ¬
- ðŸ“¦ å®‰è£…åŽç«¯Pythonä¾èµ–
- ðŸ“¦ å®‰è£…å‰ç«¯npmä¾èµ–
- ðŸ“ åˆ›å»ºé…ç½®æ–‡ä»¶æ¨¡æ¿

**start_dev.sh ä¼šè‡ªåŠ¨ï¼š**
- âœ… æ£€æŸ¥ä¾èµ–æ˜¯å¦å·²å®‰è£…
- âœ… æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒï¼ˆå¦‚æžœå­˜åœ¨ï¼‰
- ðŸš€ å¯åŠ¨åŽç«¯æœåŠ¡ï¼ˆ8000ç«¯å£ï¼‰
- ðŸš€ å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆ3000ç«¯å£ï¼‰
- âœ… éªŒè¯æœåŠ¡å¯åŠ¨æˆåŠŸ

### è®¿é—®åº”ç”¨

âœ… **å‰ç«¯é¡µé¢**ï¼šhttp://localhost:3000
âœ… **APIæ–‡æ¡£**ï¼šhttp://localhost:8000/api/docs
âœ… **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:8000/health

### åœæ­¢æœåŠ¡

```bash
./stop_dev.sh
```

---

## æ–¹å¼äºŒï¼šä½¿ç”¨è™šæ‹ŸçŽ¯å¢ƒï¼ˆæœ€ä½³å®žè·µï¼‰

### Step 1: åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
python3 -m venv venv

# æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ
source venv/bin/activate  # macOS/Linux
# æˆ–
venv\Scripts\activate     # Windows
```

### Step 2: å®‰è£…ä¾èµ–

```bash
# å®‰è£…Pythonä¾èµ–ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
pip install -r requirements.txt

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..
```

### Step 3: é…ç½®API Key

**æ–¹å¼Aï¼šçŽ¯å¢ƒå˜é‡ï¼ˆæŽ¨èï¼‰**
```bash
export DASHSCOPE_API_KEY="sk-your-api-key-here"
```

**æ–¹å¼Bï¼šé…ç½®æ–‡ä»¶**
```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env

# ä¿®æ”¹è¿™ä¸€è¡Œï¼š
DASHSCOPE_API_KEY=sk-your-api-key-here
```

### Step 4: å¯åŠ¨æœåŠ¡

```bash
# start_dev.sh ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ
./start_dev.sh
```

---

## æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨å¯åŠ¨ï¼ˆå®Œå…¨æŽ§åˆ¶ï¼‰

### æ­¥éª¤1ï¼šå®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
pip3 install -r requirements.txt

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..
```

### æ­¥éª¤2ï¼šé…ç½®API Key

```bash
# çŽ¯å¢ƒå˜é‡æ–¹å¼
export DASHSCOPE_API_KEY="sk-your-api-key-here"

# æˆ–ç¼–è¾‘æ ¹ç›®å½•çš„ .env æ–‡ä»¶
cp .env.example .env
nano .env
```

### æ­¥éª¤3ï¼šå¯åŠ¨åŽç«¯

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd backend
python3 run.py
```

åŽç«¯å°†åœ¨ **http://localhost:8000** å¯åŠ¨

### æ­¥éª¤4ï¼šå¯åŠ¨å‰ç«¯ï¼ˆæ–°å¼€ç»ˆç«¯ï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd frontend
npm run dev
```

å‰ç«¯å°†åœ¨ **http://localhost:3000** å¯åŠ¨

---

## ðŸŽ¯ ä½¿ç”¨ç¤ºä¾‹

### 1. æ–‡ç”Ÿå›¾

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡»ã€Œæ–‡ç”Ÿå›¾ã€
2. è¾“å…¥æç¤ºè¯ï¼Œä¾‹å¦‚ï¼š"ä¸€åªå¯çˆ±çš„å°çŒ«å’ªååœ¨çª—å°ä¸Šï¼Œå¤•é˜³è¥¿ä¸‹"
3. é€‰æ‹©å‚æ•°ï¼ˆæ¨¡åž‹ã€æ•°é‡ã€å°ºå¯¸ï¼‰
4. ç‚¹å‡»ã€Œå¼€å§‹ç”Ÿæˆã€
5. åœ¨å³ä¾§ä»»åŠ¡é¢æ¿å®žæ—¶æŸ¥çœ‹è¿›åº¦
6. å®ŒæˆåŽè‡ªåŠ¨æ˜¾ç¤ºç»“æžœ

### 2. å›¾ç”Ÿè§†é¢‘

1. ç‚¹å‡»ã€Œå›¾ç”Ÿè§†é¢‘ã€
2. ä¸Šä¼ ä¸€å¼ å›¾ç‰‡
3. è¾“å…¥åŠ¨ä½œæè¿°ï¼ˆå¯é€‰ï¼‰
4. é€‰æ‹©åˆ†è¾¨çŽ‡å’Œæ—¶é•¿
5. å¼€å§‹ç”Ÿæˆ

### 3. æ–‡ç”Ÿè§†é¢‘

1. ç‚¹å‡»ã€Œæ–‡ç”Ÿè§†é¢‘ã€
2. è¾“å…¥è§†é¢‘åœºæ™¯æè¿°
3. é€‰æ‹©å‚æ•°
4. å¼€å§‹ç”Ÿæˆ

### 4. å¹¶å‘åˆ›ä½œ

âœ¨ **å¯ä»¥åŒæ—¶åˆ›å»ºå¤šä¸ªä»»åŠ¡ï¼**

- åˆ›å»ºä»»åŠ¡åŽæ— éœ€ç­‰å¾…
- ç»§ç»­åˆ›å»ºæ–°ä»»åŠ¡
- æ‰€æœ‰ä»»åŠ¡åœ¨åŽå°å¹¶å‘æ‰§è¡Œ
- å³ä¾§é¢æ¿å®žæ—¶æ˜¾ç¤ºæ‰€æœ‰ä»»åŠ¡è¿›åº¦

### 5. åŽ†å²è®°å½•

ç‚¹å‡»å·¦ä¾§ã€ŒåŽ†å²è®°å½•ã€æŸ¥çœ‹æ‰€æœ‰åˆ›ä½œåŽ†å²ï¼Œæ”¯æŒï¼š
- æŒ‰ç±»åž‹ç­›é€‰ï¼ˆæ–‡ç”Ÿå›¾/æ–‡ç”Ÿè§†é¢‘/å›¾ç”Ÿè§†é¢‘ï¼‰
- æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆç­‰å¾…ä¸­/ç”Ÿæˆä¸­/å·²å®Œæˆ/å¤±è´¥ï¼‰
- åˆ é™¤ä¸éœ€è¦çš„è®°å½•

### 6. çµæ„Ÿç”»å»Š

ç‚¹å‡»å·¦ä¾§ã€Œçµæ„Ÿç”»å»Šã€ï¼š
- æµè§ˆåˆ›ä½œçµæ„Ÿç¤ºä¾‹
- æŒ‰åˆ†ç±»æŸ¥çœ‹ï¼ˆé£Žæ™¯ã€äººç‰©ã€åŠ¨ç‰©ç­‰ï¼‰
- ä¸€é”®å¤åˆ¶æç¤ºè¯
- ç›´æŽ¥ä½¿ç”¨æç¤ºè¯åˆ›ä½œ

---

## âš™ï¸ çŽ¯å¢ƒå˜é‡é…ç½®

### åŽç«¯çŽ¯å¢ƒå˜é‡

çŽ¯å¢ƒå˜é‡ä¼˜å…ˆçº§ï¼š**è¿è¡Œæ—¶çŽ¯å¢ƒå˜é‡ > .envæ–‡ä»¶**

```bash
# æŽ¨èï¼šè¿è¡Œæ—¶è®¾ç½®
export DASHSCOPE_API_KEY="your_key"
export HOST="0.0.0.0"
export PORT="8000"
export RELOAD="true"

# æˆ–è€…åˆ›å»ºæ ¹ç›®å½• .env æ–‡ä»¶
cat > .env <<EOF
DASHSCOPE_API_KEY=your_key_here
HOST=0.0.0.0
PORT=8000
RELOAD=true
DATABASE_URL=sqlite:///./qwenimg.db
EOF
```

**é…ç½®æ–‡ä»¶ä½ç½®ï¼š**
- âœ… `.env` - é¡¹ç›®æ ¹ç›®å½•
- âœ… `requirements.txt` - é¡¹ç›®æ ¹ç›®å½•
- âŒ ~~backend/.env~~ - å·²ç§»é™¤ï¼Œä¸å†ä½¿ç”¨

### å‰ç«¯çŽ¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

```bash
# åˆ›å»º frontend/.env.local
cat > frontend/.env.local <<EOF
VITE_API_BASE=/api
VITE_WS_URL=
EOF
```

---

## ðŸ› å¸¸è§é—®é¢˜

### å‰ç«¯ç™½å±ï¼Ÿ

âœ… **å·²ä¿®å¤ï¼** å¦‚æžœä»ç„¶é‡åˆ°ï¼š

```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
npm run dev
```

### åŽç«¯å¯åŠ¨å¤±è´¥ï¼Ÿ

æ£€æŸ¥ï¼š
1. Pythonç‰ˆæœ¬æ˜¯å¦ â‰¥ 3.8
2. API Keyæ˜¯å¦æ­£ç¡®è®¾ç½®
3. ç«¯å£8000æ˜¯å¦è¢«å ç”¨

```bash
# æ£€æŸ¥ç«¯å£
lsof -i :8000

# ä¿®æ”¹ç«¯å£
export PORT=8080
```

### WebSocketè¿žæŽ¥å¤±è´¥ï¼Ÿ

ç¡®ä¿ï¼š
1. åŽç«¯å·²å¯åŠ¨
2. å‰ç«¯ä»£ç†é…ç½®æ­£ç¡®ï¼ˆvite.config.tsï¼‰
3. é˜²ç«å¢™æœªé˜»æ­¢WebSocketè¿žæŽ¥

### ä»»åŠ¡ä¸€ç›´pendingï¼Ÿ

1. æ£€æŸ¥API Keyæ˜¯å¦æœ‰æ•ˆ
2. æŸ¥çœ‹åŽç«¯æ—¥å¿—
3. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥

```bash
# æŸ¥çœ‹åŽç«¯æ—¥å¿—
tail -f logs/backend.log
```

---

## ðŸ“š æ›´å¤šæ–‡æ¡£

- [å®Œæ•´æ–‡æ¡£](README_NEW_FRONTEND.md) - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- [éƒ¨ç½²æ–‡æ¡£](DEPLOYMENT.md) - ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²
- [APIæ–‡æ¡£](http://localhost:8000/api/docs) - æŽ¥å£æ–‡æ¡£
- [åŽŸREADME](README.md) - åŽŸå§‹é¡¹ç›®æ–‡æ¡£

---

## ðŸŽ‰ å¼€å§‹åˆ›ä½œå§ï¼

çŽ°åœ¨ä½ å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ‰“å¼€ http://localhost:3000 å¼€å§‹ä½ çš„AIåˆ›ä½œä¹‹æ—…ï¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹[å®Œæ•´æ–‡æ¡£](README_NEW_FRONTEND.md)æˆ–æäº¤[Issue](https://github.com/cclank/qwenimg/issues)ã€‚
